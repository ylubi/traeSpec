# Tasks 文档规范

## 必须遵守的规范

- 注意 tasks.md 的文件结构，必须遵循下面的文档结构规范。
- 注意合理拆分子任务
- 注意管理好任务状态。开始任务开发前，必须先修改任务状态为进行中 `[-]`。任务完成后，必须修改任务状态为已完成 `[x]`。
- 任务异常时，必须修改任务状态为任务异常。
- 不需要工时预估
- 注意依赖关系
- 注意任务序号要连续

## 文档结构规范

基于对 requirements.md、design.md 内容的分析，拆解成为相应的任务。tasks 文档必须遵循以下标准结构：

### 1. 文档标题
- **格式**: `# {项目名称}实施计划` 或 `# {项目名称}实现计划`
- **要求**: 标题应清晰描述项目或功能模块的实施计划
- **示例**: `# CSS样式修复实施计划`

### 2. 概述部分（可选）
- **格式**: `## 概述`
- **内容**: 简要描述实施计划的目标、范围和重点
- **要求**: 对于复杂项目，提供实施计划的总体说明

### 3. 任务列表部分
- **格式**: `## 任务列表` 或 `## 实现任务`
- **结构**: 使用嵌套的任务列表格式
- **要求**: 清晰展示任务层级和依赖关系

## 任务格式规范

### 1. 任务项格式
- **主任务格式**: `- [x] {编号}. {任务名称}`
- **子任务格式**: `- [x] {主任务编号}.{子任务编号} {子任务名称}`
- **属性测试任务**: `- [ ]* {编号} {测试名称}`

### 2. 任务状态标记
- **已完成**: `[x]`
- **未完成**: `[ ]`
- **属性测试**: `[ ]*`（带星号表示属性测试任务）
- **进行中**: `[-]`（表示任务正在进行中）
-- **任务异常**: `[!]`（表示任务异常，需要立即处理）

### 3. 任务内容结构
每个任务项应包含以下元素：

#### 3.1 任务描述
- 使用缩进格式详细描述任务内容
- 列出具体的实现步骤和功能点
- 使用项目符号或编号列表

#### 3.2 需求关联
- **格式**: `_需求: {需求编号列表}_`
- **要求**: 明确关联到 requirements.md 中的具体需求
- **示例**: `_需求: 1.1, 1.2, 1.3_`

#### 3.3 属性测试（可选）
- **格式**: `- [ ]* {编号} {测试名称}`
- **结构**: 
  ```
  - [ ]* {编号} {测试名称}
    - **属性 {编号}: {属性名称}**
    - **验证: 需求 {需求编号}**
  ```

## 任务组织规范

### 1. 任务编号系统
- **主任务编号**: 使用连续数字编号（1, 2, 3...）
- **子任务编号**: 主任务编号 + 子任务编号（1.1, 1.2, 2.1...）
- **属性测试编号**: 与对应任务编号一致

### 2. 任务层级结构
- **主任务**: 大的功能模块或组件
- **子任务**: 具体的实现步骤或功能点
- **属性测试**: 验证特定属性的测试任务

### 3. 任务依赖关系
- 使用任务编号和缩进来表示层级关系
- 确保任务之间有合理的执行顺序
- 考虑技术依赖和功能依赖

## 内容规范

### 1. 任务描述规范
- 使用具体、可执行的语言描述任务
- 避免模糊不清的描述
- 包含具体的实现目标和技术要求

### 2. 需求关联规范
- 每个任务都应关联到具体的需求
- 使用需求编号进行精确关联
- 确保需求覆盖的完整性

### 3. 属性测试规范
- 属性名称应明确描述测试的属性
- 验证需求应准确对应
- 测试任务应覆盖主要功能场景

## 质量要求

### 1. 可执行性
- 任务描述应具体明确，便于实施
- 每个任务应有明确的完成标准
- 避免过于抽象或模糊的任务描述

### 2. 完整性
- 任务列表应覆盖所有主要功能需求
- 确保需求与任务的对应关系完整
- 考虑边界情况和错误处理

### 3. 可测试性
- 每个主要功能应有对应的属性测试
- 测试任务应具体、可验证
- 测试应覆盖正常情况和异常情况

### 4. 可追踪性
- 任务与需求之间的对应关系清晰
- 实施进度可通过任务状态追踪
- 便于后续的代码审查和测试验证

## 示例结构

```markdown
# {项目名称}实施计划

## 概述
{实施计划的总体说明}

## 任务列表

- [x] 1. {主任务名称}
  - {具体实现步骤1}
  - {具体实现步骤2}
  - {具体实现步骤3}
  - _需求: 1.1, 1.2, 1.3_

- [ ]* 1.1 为{功能}编写属性测试
  - **属性 1: {属性名称}**
  - **验证: 需求 1.1**

- [x] 2. {主任务名称}
  - [x] 2.1 {子任务名称}
    - {子任务具体步骤}
    - _需求: 2.1, 2.2_
  
  - [ ] 2.2 {子任务名称}
    - {子任务具体步骤}
    - _需求: 2.3_

- [ ]* 2.1 为{功能}编写属性测试
  - **属性 2: {属性名称}**
  - **验证: 需求 2.1**

- [ ]* 2.2 为{功能}编写属性测试
  - **属性 3: {属性名称}**
  - **验证: 需求 2.2**
```

## 特殊标记说明

### 1. 已完成任务
- 使用 `[x]` 标记已完成的任务
- 对于已完成的任务，可以包含具体的实施成果说明

### 2. 属性测试任务
- 使用 `[ ]*` 标记属性测试任务
- 属性测试任务应明确测试的属性和验证的需求

### 3. 进度标记
- 可以使用 ✅ 等符号标记重要进展
- 可以在任务描述中添加进度说明

## 注意事项

1. **任务粒度**: 任务应具有适当的粒度，既不过于粗放也不过于琐碎
2. **依赖关系**: 考虑任务之间的技术依赖和执行顺序
3. **可验证性**: 每个任务应有明确的完成标准和验证方法
4. **可维护性**: 任务列表应便于后续的更新和维护
5. **一致性**: 保持任务描述风格和格式的一致性

## 最佳实践

### 1. 任务分解
- 将复杂功能分解为多个可管理的子任务
- 每个子任务应有明确的输入和输出
- 考虑任务的并行执行可能性

### 2. 进度跟踪
- 使用任务状态标记清晰展示实施进度
- 定期更新任务状态
- 记录重要的实施成果和问题解决

### 3. 测试驱动
- 为每个主要功能编写属性测试
- 确保测试覆盖主要功能场景
- 测试应具有可重复性和自动化能力

### 4. 文档同步
- 保持与 requirements.md 和 design.md 的同步
- 及时更新任务状态和关联关系
- 记录实施过程中的重要发现和决策